// Our labels along the x-axis
var dates = ['2019-11-04', '2019-11-11', '2019-11-18', '2019-11-25', '2019-12-02', '2019-12-09', '2019-12-16', '2019-12-23', '2019-12-30', '2020-01-06', '2020-01-13', '2020-01-20', '2020-01-27', '2020-02-03', '2020-02-17', '2020-02-24', '2020-03-02', '2020-03-09', '2020-03-16', '2020-03-23', '2020-03-30', '2020-04-06', '2020-04-13', '2020-04-20', '2020-04-27'];
 // For drawing the lines
var ne = [55.96097791138591, 57.17256959295556, 52.634059792213655, 53.49858152934578, 54.13327891306865, 51.68702652933848, 52.207024355277, 52.84936435999761, 54.600419724679725, 53.456730196623276, 50.26202110856784, 3.137879346796466, 44.88860865368058, 40.579377136344775, 35.856730471519455, 58.519469648488396, 57.887589403404114, 45.34913085175606, 31.029659562309394, 20.158000851648854, 16.81274505627208, 13.551777462820658, 18.27567210307047, 19.63706524978345, 7.616114549640054];
var mw = [53.0503802651537, 50.42531612135607, 48.45354739862388, 55.462031048430845, 48.657005026240554, 51.487815744003626, 55.14873911320235, 60.42344588398252, 59.22344599329723, 49.40106796058299, 48.46349953968533, 3.0624824968614806, 46.82510283406865, 41.173931889844454, 33.87607056027771, 53.47762087643171, 54.03320200616591, 50.57865944889592, 34.189112250146565, 21.65440964308224, 16.343913967091765, 16.204590183248555, 17.688392737826177, 19.239138452324553, 9.661493288535192];
var central = [62.127516297984236, 62.823659779312685, 63.31544278297221, 67.85110101566863, 59.79791966943314, 62.47740509293602, 69.05204178575809, 71.37916306964868, 71.9567745595075, 63.260807456494625, 59.116861546551675, 3.2062257919100987, 53.80864972873941, 48.54505775207243, 40.1963700658786, 62.06026031703322, 60.242671577918756, 57.805739892169385, 41.65031622468983, 30.859469159475033, 22.61010927134352, 24.33854837520705, 25.396771503740023, 31.39779993878087, 14.62544572906061];
var south = [56.62006865691777, 56.407878517971064, 54.63131562349006, 66.83627907597509, 55.90686230755857, 56.50883013339477, 63.258762959334305, 67.77691289456902, 64.3951462977265, 55.057321791848224, 52.20192436836838, 3.9093473621744175, 49.02889039235738, 41.441107357212374, 34.53025599408, 56.13998478940739, 54.29611292355268, 50.94055992229829, 36.1143001187901, 24.297224745012734, 18.930063683045553, 19.66733425029589, 22.264293653077363, 22.952471699764246, 10.202674331708032];
var west = [91.54003045057435, 95.84799511197203, 89.0515223896886, 88.5191797068101, 90.47244122214312, 93.38080103044199, 102.58224142245861, 97.25585075398588, 102.65372555771869, 88.85481592593662, 83.3850666824355, 4.788882995886952, 70.1702770285334, 62.99163415505007, 48.6930245570334, 82.27930275139796, 79.21479548580108, 70.54978701875292, 51.227534302864775, 38.93241912571521, 26.859695900336476, 29.355000087393506, 31.928065968134508, 32.95659679558003, 18.069225776038135];

var impdates = ['2020-03-16', '2020-01-20'];
var amount = ["White House guideline", "1st US case"];
// populate 'annotations' array dynamically based on 'marketing'
var annotate = impdates.map(function(date, index) {
   return {
      type: 'line',
      id: 'vline' + index,
      mode: 'vertical',
      scaleID: 'x-axis-0',
      value: date,
      borderColor: 'red',
      borderWidth: 3,
      label: {
         enabled: true,
         position: "top",
         content: amount[index]
      }
   }
});

var ctx = document.getElementById("regionChart");
var regionChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: dates,
    datasets: [{
        data: ne,
        label: "Northeast",
        borderColor: "#006600",
        fill: false
      },
      {
        data: mw,
        label: "Midwest",
        borderColor: "#006600",
        fill: false
      },
      {
        data: central,
        label: "Central",
        borderColor: "#006600",
        fill: false
      },
      {
        data: south,
        label: "South",
        borderColor: "#006600",
        fill: false
      },
      {
        data: west,
        label: "West",
        borderColor: "#006600",
        fill: false
      }
    ]
  },
  options: {
        scales: {
           yAxes: [{
              ticks: {
                 beginAtZero: true
              }
           }]
        },
        annotation: {
           //drawTime: 'afterDatasetsDraw',
           annotations: annotate
        }
     }
});
